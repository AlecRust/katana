<!DOCTYPE html>
<html>
  <head>
    <title>Update Available</title>

    <link rel="stylesheet" href="assets/css/options.css">
    <link rel="stylesheet" href="assets/css/photon.min.css">
    <link rel="stylesheet" href="assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/octicons/octicons.css">

    <style>

      body {
        background: url('assets/images/backgrounds/geometry.png');
      }

      .container {
        padding: 20px 40px;
      }

      .btn-link {
        background-color: transparent;
        box-shadow: none;
      }

      .btn-link:hover {
        text-decoration: underline;
        background: transparent;
      }
      .progress {
        display: none;
      }
    </style>
  </head>

  <body>
    <div class="container">

      <h3>There is an update available for Katana.</h3>
      <p>Please update to the latest version for the best experience.</p>
      <p>Updating will restart the application.</p>

      <div id="actions">

        <button id="download" class="btn btn-large btn-default">Download Update</button>
        <button id="cancel" class="btn btn-link">Update later</button>

      </div>

      <div class="progress" style="height:12px;">
        <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width:100%;">
        </div>
      </div>

    </div>
  </body>

  <script>
  window.$ = window.jQuery = require('./assets/js/jquery-3.1.1.min.js');

  const ipc    = require('electron').ipcRenderer;
  const remote = require('electron').remote;

  $('#download').click(() => {
    ipc.send('downloadUpdate');

    $('#actions').hide();

    $('.progress').show();
  });

  $('#cancel').click(() => {
    const win = remote.getCurrentWindow();
    win.close();
  });
  </script>
</html>